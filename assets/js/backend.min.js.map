{"version":3,"sources":["backend.js"],"names":["__","window","wp","i18n","wpMediaSelector","let","mediaFrame","media","title","multiple","library","type","on","attachment","state","get","first","toJSON","callback","open","selectStoryBoxImage","document","querySelector","selectMedia","addEventListener","getElementById","value","url","src","mediaPreview"],"mappings":"CAAA,KACA,IAAAA,GAAAC,OAAAC,GAAAC,KAAA,GAEAC,gBAAA,WACAC,IAAAC,YAOAA,WAAAJ,GAAAK,MAAA,CACAC,MAAAR,GAAA,eAAA,YAAA,EACAS,SAAA,CAAA,EACAC,QAAA,CACAC,KAAA,CACA,QACA,QAEA,CACA,CAAA,GACAC,GAAA,SAAA,WACA,IAAAC,WAAAP,WAAAQ,MAAA,EAAAC,IAAA,WAAA,EAAAC,MAAA,EAAAC,OAAA,EACAC,SAAAL,UAAA,CACA,CAAA,EACAP,WAAAa,KAAA,CACA,EAEAd,IAAAe,oBAAAC,SAAAC,cAAA,8BAAA,EAUAC,qBATAH,qBACAA,oBAAAI,iBAAA,QAAA,KACApB,gBAAA,aACAiB,SAAAI,eAAA,WAAA,EAAAC,MAAAb,WAAAc,IACAN,SAAAI,eAAA,mBAAA,EAAAG,IAAAf,WAAAc,GACA,CAAA,CACA,CAAA,EAGAN,SAAAC,cAAA,0BAAA,GACAC,qBACAA,oBAAAC,iBAAA,QAAA,KACApB,gBAAA,aACAiB,SAAAC,cAAA,uBAAA,EAAAI,MAAAb,WAAAc,IACA,IAAAE,aAAAR,SAAAC,cAAA,2BAAA,EACAO,eACAA,aAAAD,IAAAf,WAAAc,IAEA,CAAA,CACA,CAAA,CAGA,GAAA","file":"backend.min.js","sourcesContent":[";(() => {\n    const { __ } = window.wp.i18n;\n\n    const wpMediaSelector = (callback) => {\n        let mediaFrame;\n        if (mediaFrame) {\n            mediaFrame.open();\n            return;\n        }\n\n        // Define image_frame as wp.media object\n        mediaFrame = wp.media({\n            title: __('Select Media', 'snap-tales'),\n            multiple : false,\n            library : {\n                type : [\n                    'image',\n                    'video'\n                ]\n            }\n        });\n        mediaFrame.on('select', function() {\n            var attachment = mediaFrame.state().get('selection').first().toJSON();\n            callback(attachment);\n        });\n        mediaFrame.open();\n    }\n\n    let selectStoryBoxImage = document.querySelector('.snap-tales-select-thumbnail');\n    if (selectStoryBoxImage) {\n        selectStoryBoxImage.addEventListener('click', () => {\n            wpMediaSelector((attachment) => {\n                document.getElementById('thumbnail').value = attachment.url;\n                document.getElementById('thumbnail_preview').src = attachment.url;\n            });\n        });\n    }\n\n    let selectMedia = document.querySelector('.snap-tales-select-media');\n    if (selectMedia) {\n        selectMedia.addEventListener('click', () => {\n            wpMediaSelector((attachment) => {\n                document.querySelector('.snap-tales-media-url').value = attachment.url;\n                const mediaPreview = document.querySelector('.snap-tales-media-preview');\n                if (mediaPreview) {\n                    mediaPreview.src = attachment.url;\n                }\n            });\n        });\n    }\n\n})();"]}